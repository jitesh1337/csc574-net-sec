TPM STEPS
---------
1) Take the ownership of the TPM

# tpm_takeownership
Enter owner password: 
Confirm password: 
Enter SRK password: 
Confirm password: 

Enter owner and SRK passwords.

2) Seal the data

# tpm_sealdata -i client.pem -o client.pem.enc -p 16


1) encrypt/decrypt work fine
2) the examples for openssl works if you generate proper keys
3) The SSL Certificates file has the readme how to create certificates


Method:
1. Create the private key and certificate for the CA
> sudo openssl req -new -x509 -days 365 -newkey rsa:1024 -keyout /etc/pki/CA/private/cakey.pem -out /etc/pki/CA/cacert.pem -nodes

2. If this is the first time ever you will be signing certificates
> sudo touch /etc/pki/CA/index.txt
> su -c "echo 01 > /etc/pki/CA/serial"

3. Create a new private key and certificate for the client
> openssl req -newkey rsa:1024 -nodes -keyout client.key -out client.req 

4. Sign the client certificate
> openssl ca -out client.pem -infiles client.req 

5. Create a new private key and certificate for the server
> openssl req -newkey rsa:1024 -nodes -keyout server.key -out server.req 

6. Sign the client certificate
> openssl ca -out server.pem -infiles server.req

